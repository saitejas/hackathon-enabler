<app-header></app-header>
<div class="container-fluid hackathons--banner">
    <p class="hackathons--banner-text">Manage hackathons with utmost ease 
        <span class="float-right">
            <button class="hackathons--banner-button" (click)="sidenav.toggle()">Add a hackathon</button>
        </span>
    </p>
</div>
<div class="container">
    <mat-sidenav-container [hasBackdrop]="false">
        <mat-sidenav class="hackathons--add-hackathon-container" #sidenav [mode]="'over'" [position]="'end'">
            <app-add-hackathon (emitChallenge)="addChallenge($event)" (cancelAddition)="sidenav.toggle()"></app-add-hackathon>
        </mat-sidenav>
        <mat-sidenav-content class="hackathons--hackathons-container">
            <div *ngIf="!hackathons || hackathons?.length === 0" class="col-md-12 col-lg-12 col-sm-12 col-xs-12 text-center">
                <p> No Hackathons Found </p>
                <p> Be the first to come up with a challenge <span><button (click)="sidenav.toggle()">Add a challenge</button></span></p>
            </div>
            <div>
                Sort: <mat-form-field appearance="fill">
                    <!-- <mat-label>Sort By</mat-label> -->
                    <mat-select (selectionChange)="sortHackathons($event)">
                      <mat-option value="votes-minmax">votes: Min to Max</mat-option>
                      <mat-option value="votes-maxmin">votes: Max to Min</mat-option>
                      <mat-option value="oldest">Oldest Challenges</mat-option>
                      <mat-option value="newest">Newest Challenges</mat-option>
                    </mat-select>
                  </mat-form-field>
            </div>
            <div *ngIf="hackathons && hackathons.length > 0" class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                <div *ngFor="let hackathon of hackathons | paginate: { itemsPerPage: 2, currentPage: p }">
                   <app-hackathon [hackathon]="hackathon"></app-hackathon>
                </div>
                <pagination-controls (pageChange)="p = $event"></pagination-controls>
            </div>
        </mat-sidenav-content>
    </mat-sidenav-container>
</div>
